{% extends "layout/base.html" %}
{% block customCSS %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tienda/gorro.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
{% endblock %}
{% block title %}Gorros | Empijamadas{% endblock %}
{% block content %}
<main class="gorros-main">
   
    <div class="title-section">
        <h1>GORROS</h1>
    </div>
    <div class="breadcrumb">
        <nav class="breadcrumb-nav">
            <a href="/">Home</a>
            <span>></span>
            <a href="/tienda">Tienda</a>
            <span>></span>
            <span class="active">Gorros</span>
        </nav>
    </div>
    <div class="category-nav">
        <div class="nav-container">
            <div class="nav-tabs">
                <button class="nav-tab active" data-filter="todos">Todos</button>
                <button class="nav-tab" data-filter="nueva-coleccion">Nueva Colección</button>
                <button class="nav-tab" data-filter="premium">Premium</button>
                <button class="nav-tab" data-filter="ofertas">Ofertas</button>
            </div>
            <div class="nav-right">
                <span class="product-count" id="productCount">4 productos</span>
                <button class="filter-btn" id="filterBtn">
                    <span>Filtrar</span>
                    <i class="bi bi-chevron-down"></i>
                </button>
                <div class="filter-dropdown" id="filterDropdown">
                    <div class="filter-option" data-sort="precio-asc">Precio: Menor a Mayor</div>
                    <div class="filter-option" data-sort="precio-desc">Precio: Mayor a Menor</div>
                    <div class="filter-option" data-sort="nombre">Nombre A-Z</div>
                </div>
            </div>
        </div>
    </div>

    <!--productos -->
    <section class="products-section">
        <div class="products-grid">
            {% for productos in value %}
                <div class="product-card"
                data-producto-id="{{ productos.id }}" 
                data-price="{{ productos.precio }}" 
                data-name="{{ productos.nombre }}" 
                data-stock="{{ productos.stock_disponible | default('disponible') }}">
                    <div class="product-img">
                    {% if productos.url %}
                        <img src="{{ url_for('static', filename=productos.url) }}" alt="{{ productos.nombre }}">
                    {% else %}
                        <img src="{{ url_for('static', filename='img/placeholder.png') }}" alt="{{ pijamas.nombre_producto }}">
                    {% endif %}
                        <div class="product-overlay">
                            <button class="btn-add-cart">Agregar al carrito</button>
                            <button class="btn-view-product"><i class="bi bi-eye-fill"></i></button>
                        </div>
                    </div>
                    <div class="product-details">
                        <h3 class="product-name">{{ productos.nombre }}</h3>
                        <p class="product-price">₡{{ "%.0f"|format(productos.precio|float) }}0</p>
                    </div>
                </div>
            {% endfor %}
    </section>
</main>
{% block customJS %}
    <script src="{{ url_for('static', filename='js/filtro.js') }}"></script>
{% endblock %}
{% endblock %}