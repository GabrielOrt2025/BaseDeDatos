CREATE TABLE USUARIOS (
    USUARIO_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    EMAIL VARCHAR2(100) UNIQUE,
    PASSWORD_HASH VARCHAR2(255),
    NOMBRE VARCHAR2(100),
    ACTIVO NUMBER(1) DEFAULT 1 NOT NULL,
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    ACTUALIZADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT chk_usuarios_activo CHECK (ACTIVO IN (0, 1))
);

CREATE TABLE ROLES(
    ID_ROL NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    NOMBRE VARCHAR2(50) UNIQUE NOT NULL,
    DESCRIPCION VARCHAR2(255),
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    ACTUALIZADO_EN DATE DEFAULT SYSDATE NOT NULL
);

CREATE TABLE CATEGORIA (
    CATEGORIA_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    NOMBRE VARCHAR2(250),
    DESCRIPCION VARCHAR2(250),
    ACTIVO NUMBER(1) NOT NULL,
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT chk_categoria_activo CHECK (ACTIVO IN (0, 1))
);

CREATE TABLE CANALES (
    CANAL_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    CODIGO NUMBER UNIQUE,
    NOMBRE VARCHAR2(250),
    DESCRIPCION VARCHAR2(300),
    ACTIVO NUMBER(1) DEFAULT 1 NOT NULL,
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT chk_canales_activo CHECK (ACTIVO IN (0, 1))
);

CREATE TABLE METODOS_ENVIO (
    ID_METODO_ENVIO NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    NOMBRE VARCHAR2(50) NOT NULL,
    DESCRIPCION VARCHAR2(200),
    COSTO_BASE NUMBER(10, 2),
    TIEMPO_ESTIMADO_DIAS NUMBER,
    TRANSPORTISTA VARCHAR2(50),
    ACTIVO NUMBER(1) DEFAULT 1 NOT NULL,
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    ACTUALIZADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT chk_metodos_envio_activo CHECK (ACTIVO IN (0, 1))
);

CREATE TABLE SUCURSAL(
    SUCURSAL_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    CODIGO NUMBER UNIQUE,
    NOMBRE VARCHAR2(50),
    DESCRIPCION VARCHAR(255),
    TELEFONO NUMBER,
    ACTIVO NUMBER(1) DEFAULT 1 NOT NULL,
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT chk_sucursal_activo CHECK (ACTIVO IN (0, 1))
);

CREATE TABLE BODEGA (
    BODEGA_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    SUCURSAL_ID NUMBER,
    CODIGO NUMBER UNIQUE,
    NOMBRE VARCHAR2(50),
    DESCRIPCION VARCHAR2(200),
    CAPACIDAD NUMBER,
    ACTIVO NUMBER(1) DEFAULT 1 NOT NULL,
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT chk_bodega_activo CHECK (ACTIVO IN (0, 1)),
    CONSTRAINT fk_bodega_sucursal FOREIGN KEY (SUCURSAL_ID) REFERENCES SUCURSAL(SUCURSAL_ID)    
);

CREATE TABLE TIPOS_ENTRADA (
    ID_TIPO_ENTRADA NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    CODIGO NUMBER UNIQUE,
    DESCRIPCION VARCHAR2(255),
    ACTIVO NUMBER(1) DEFAULT 1 NOT NULL,
    CONSTRAINT chk_tipo_entrada_activo CHECK (ACTIVO IN (0, 1))
);

CREATE TABLE TIPOS_SALIDA (
    ID_TIPOS_SALIDA NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    CODIGO NUMBER UNIQUE,
    DESCRIPCION VARCHAR2(255),
    ACTIVO NUMBER(1) DEFAULT 1 NOT NULL,
    CONSTRAINT chk_tipos_salida_activo CHECK (ACTIVO IN (0, 1))
);

CREATE TABLE CUPONES (
    ID_CUPON NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    CODIGO VARCHAR2(50) UNIQUE,
    DESCRIPCION VARCHAR2(255),
    TIPO VARCHAR2(25),
    VALOR NUMBER(10, 2),
    INICIO_VIGENCIA DATE,
    FIN_VIGENCIA DATE,
    LIMITE_USO NUMBER,
    CONTADOR_USO NUMBER DEFAULT 0,
    ACTIVO NUMBER(1) DEFAULT 1 NOT NULL,
    CONSTRAINT chk_cupones_activo CHECK (ACTIVO IN (0, 1))
);

CREATE TABLE PRODUCTOS (
    ID_PRODUCTO NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    SKU VARCHAR2(50) UNIQUE NOT NULL,
    CATEGORIA_ID NUMBER,
    NOMBRE VARCHAR2(255),
    DESCRIPCION VARCHAR2(255),
    ACTIVO NUMBER(1) DEFAULT 1 NOT NULL,
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    ACTUALIZADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT chk_productos_activo CHECK (activo IN (0, 1)),
    CONSTRAINT fk_productos_categoria FOREIGN KEY (CATEGORIA_ID) REFERENCES CATEGORIA(CATEGORIA_ID)
);

CREATE TABLE PRODUCTOXBODEGA(
    PRODUCTO_BODEGA_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    BODEGA_ID NUMBER,
    PRODUCTO_ID NUMBER,
    CANTIDAD_DISPONIBLE NUMBER,
    CANTIDAD_RESERVADA NUMBER,
    CANTIDAD_ALERTA NUMBER,
    CONSTRAINT fk_pb_bodega FOREIGN KEY (BODEGA_ID) REFERENCES BODEGA(BODEGA_ID),
    CONSTRAINT fk_pb_producto FOREIGN KEY (PRODUCTO_ID) REFERENCES PRODUCTOS(ID_PRODUCTO)
);

CREATE TABLE IMAGENES_PRODUCTOS (
    IMAGEN_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    PRODUCTO_ID NUMBER,
    URL VARCHAR2(250),
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    ACTUALIZADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT fk_imagenes_producto FOREIGN KEY (PRODUCTO_ID) REFERENCES PRODUCTOS(ID_PRODUCTO)
);

CREATE TABLE ENTRADAS (
    ID_ENTRADA NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    PRODUCTO_ID NUMBER,
    BODEGA_ID NUMBER,
    TIPO_ENTRADA_ID NUMBER,
    CANTIDAD NUMBER,
    PRECIO_UNITARIO NUMBER(10, 2),
    REFERENCIA VARCHAR2(255),
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CREADO_POR NUMBER,
    CONSTRAINT fk_entradas_producto FOREIGN KEY (PRODUCTO_ID) REFERENCES PRODUCTOS(ID_PRODUCTO),
    CONSTRAINT fk_entradas_bodega FOREIGN KEY (BODEGA_ID) REFERENCES BODEGA(BODEGA_ID),
    CONSTRAINT fk_entradas_tipo FOREIGN KEY (TIPO_ENTRADA_ID) REFERENCES TIPOS_ENTRADA(ID_TIPO_ENTRADA),
    CONSTRAINT fk_entradas_usuario FOREIGN KEY (CREADO_POR) REFERENCES USUARIOS(USUARIO_ID)
);

CREATE TABLE SALIDAS (
    ID_SALIDA NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    PRODUCTO_ID NUMBER,
    BODEGA_ID NUMBER,
    TIPO_SALIDA_ID NUMBER,
    CANTIDAD NUMBER,
    REFERENCIA VARCHAR2(255),
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CREADO_POR NUMBER,
    CONSTRAINT fk_salidas_producto FOREIGN KEY (PRODUCTO_ID) REFERENCES PRODUCTOS(ID_PRODUCTO),
    CONSTRAINT fk_salidas_bodega FOREIGN KEY (BODEGA_ID) REFERENCES BODEGA(BODEGA_ID),
    CONSTRAINT fk_salidas_tipo FOREIGN KEY (TIPO_SALIDA_ID) REFERENCES TIPOS_SALIDA(ID_TIPOS_SALIDA),
    CONSTRAINT fk_salidas_usuario FOREIGN KEY (CREADO_POR) REFERENCES USUARIOS(USUARIO_ID)
);

CREATE TABLE TRASLADOS (
    ID_TRASLADO NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    PRODUCTO_ID NUMBER,
    BODEGA_ORIGEN NUMBER,
    BODEGA_DESTINO NUMBER,
    CANTIDAD NUMBER,
    AUTORIZADO_POR NUMBER,
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    ESTADOR VARCHAR(25),
    CONSTRAINT fk_traslados_producto FOREIGN KEY (PRODUCTO_ID) REFERENCES PRODUCTOS(ID_PRODUCTO),
    CONSTRAINT fk_traslados_bodega_origen FOREIGN KEY (BODEGA_ORIGEN) REFERENCES BODEGA(BODEGA_ID),
    CONSTRAINT fk_traslados_bodega_destino FOREIGN KEY (BODEGA_DESTINO) REFERENCES BODEGA(BODEGA_ID),
    CONSTRAINT fk_traslados_usuario FOREIGN KEY (AUTORIZADO_POR) REFERENCES USUARIOS(USUARIO_ID)
);

CREATE TABLE USUARIO_ROLES (
    ID_USUARIO_ROL NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    USUARIO_ID NUMBER NOT NULL,
    ROL_ID NUMBER NOT NULL,
    FECHA_ASIGNACION DATE DEFAULT SYSDATE,
    ASIGNADO_POR NUMBER,
    ACTIVO NUMBER(1) DEFAULT 1 NOT NULL,
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT chk_ur_activo CHECK (activo IN (0, 1)),
    CONSTRAINT fk_ur_usuario FOREIGN KEY (USUARIO_ID) REFERENCES USUARIOS(USUARIO_ID),
    CONSTRAINT fk_ur_rol FOREIGN KEY (ROL_ID) REFERENCES ROLES(ID_ROL),
    CONSTRAINT fk_ur_asignado_por FOREIGN KEY (ASIGNADO_POR) REFERENCES USUARIOS(USUARIO_ID)
);

CREATE TABLE DIRECCIONES_USUARIO (
    ID_DIRECCION NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    USUARIO_ID NUMBER,
    ETIQUETA VARCHAR(25),
    NOMBRE_DESTINATARIO VARCHAR(100),
    LINEA_1 VARCHAR(200),
    CIUDAD VARCHAR2(100),
    PROVINCIA VARCHAR2(50),
    CODIGO_POSTAL VARCHAR2(20),
    PAIS VARCHAR2(50),
    TELEFONO VARCHAR2(20),
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    ACTUALIZADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT fk_direccion_usuario FOREIGN KEY (USUARIO_ID) REFERENCES USUARIOS(USUARIO_ID)
);

CREATE TABLE ORDENES (
    ID_ORDEN NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    USUARIO_ID NUMBER,
    SUCURSAL_ID NUMBER,
    NUMERO_ORDEN VARCHAR2(50) UNIQUE,
    ESTADO VARCHAR2(25),
    SUBTOTAL NUMBER(10, 2),
    TOTAL NUMBER(10, 2),
    METODO_PAGO VARCHAR2(25),
    FEHA_ORDEN DATE DEFAULT SYSDATE,
    FECHA_COMPLETADO DATE,
    DIRECCION_ENVIO_ID NUMBER,
    NOTAS VARCHAR(500),
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT fk_ordenes_usuario FOREIGN KEY (USUARIO_ID) REFERENCES USUARIOS(USUARIO_ID),
    CONSTRAINT fk_ordenes_sucursal FOREIGN KEY (SUCURSAL_ID) REFERENCES SUCURSAL(SUCURSAL_ID),
    CONSTRAINT fk_ordenes_direccion FOREIGN KEY (DIRECCION_ENVIO_ID) REFERENCES DIRECCIONES_USUARIO(ID_DIRECCION)
);

CREATE TABLE ENVIOS (
    ID_ENVIO NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    ORDEN_ID NUMBER,
    METODO_ENVIO_ID NUMBER,
    NUMERO_GUIA VARCHAR2(50),
    ESTADO VARCHAR2(25),
    FECHA_ENVIO DATE,
    FECHA_ENTREGA_ESTIMADA DATE,
    FECHA_ENTREGA_REAL DATE,
    COSTO_ENVIO NUMBER(10, 2),
    TRANSPORTISTA VARCHAR2(50),
    NOTAS VARCHAR2(500),
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    ACTUALIZADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT fk_envios_orden FOREIGN KEY (ORDEN_ID) REFERENCES ORDENES(ID_ORDEN),
    CONSTRAINT fk_envios_metodo FOREIGN KEY (METODO_ENVIO_ID) REFERENCES METODOS_ENVIO(ID_METODO_ENVIO)
);

CREATE TABLE CAJAS (
    ID_CAJA NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    SUCURSAL_ID NUMBER,
    CODIGO VARCHAR2(25) UNIQUE,
    NOMBRE VARCHAR2(50),
    DESCRIPCION VARCHAR2(200),
    ESTADO VARCHAR2(25),
    SALDO_ACTUAL NUMBER(10, 2) DEFAULT 0,
    ACTIVO NUMBER(1) DEFAULT 1 NOT NULL,
    ACTUALIZADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT chk_cajas CHECK (ACTIVO IN (0, 1)),
    CONSTRAINT fk_cajas_sucursal FOREIGN KEY (SUCURSAL_ID) REFERENCES SUCURSAL(SUCURSAL_ID)
);

CREATE TABLE APERTURAS_CAJA (
    ID_APERTURA NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    CAJA_ID NUMBER NOT NULL,
    USUARIO_APERTURA_ID NUMBER,
    FECHA_APERTURA DATE DEFAULT SYSDATE,
    MONTO_INICIAL NUMBER(10, 2),
    ESTADO VARCHAR2(25),
    TURNO VARCHAR2(25),
    NOTAS_APERTURA VARCHAR2(500),
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    ACTUALIZADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT fk_apertura_caja FOREIGN KEY (CAJA_ID) REFERENCES CAJAS(ID_CAJA),
    CONSTRAINT fk_apertura_usuario FOREIGN KEY (USUARIO_APERTURA_ID) REFERENCES USUARIOS(USUARIO_ID)
);

CREATE TABLE MOVIMIENTOS_CAJA (
    ID_MOVIMIENTO NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    CAJA_ID NUMBER NOT NULL,
    APERTURA_CAJA_ID NUMBER,
    TIPO_MOVIMIENTO VARCHAR(25),
    CONCEPTO VARCHAR2(200),
    MONTO NUMBER(10, 2) NOT NULL,
    SALDO_ANTERIOR NUMBER(10, 2),
    SALDO_NUEVO NUMBER(10, 2),
    METODO_PAGO VARCHAR2(25),
    USUARIO_ID NUMBER,
    FECHA_MOVIMIENTO DATE DEFAULT SYSDATE,
    NOTAS VARCHAR2(500),
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT fk_mov_caja FOREIGN KEY (CAJA_ID) REFERENCES CAJAS(ID_CAJA),
    CONSTRAINT fk_mov_apertura FOREIGN KEY (APERTURA_CAJA_ID) REFERENCES APERTURAS_CAJA(ID_APERTURA),
    CONSTRAINT fk_mov_usuario FOREIGN KEY (USUARIO_ID) REFERENCES USUARIOS(USUARIO_ID)
);

CREATE TABLE CIERRES_CAJA (
    ID_CIERRE NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    APERTURA_CAJAS_ID NUMBER,
    CAJA_ID NUMBER,
    USUARIO_CIERRE_ID NUMBER,
    FECHA_CIERRE DATE DEFAULT SYSDATE,
    MONTO_ESPERADO NUMBER(10, 2),
    MONTO_REAL NUMBER(10, 2),
    DIFERENCIA NUMBER(10, 2),
    TOTAL_INGRESOS NUMBER(10, 2),
    TOTAL_EGRESOS NUMBER(10, 2),
    TOTAL_EFECTIVO NUMBER(10, 2),
    TOTAL_TARJETA NUMBER(10, 2),
    TOTAL_OTROS NUMBER(10, 2),
    OBSERVACIONES VARCHAR2(255),
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT fk_cierre_apertura FOREIGN KEY (APERTURA_CAJAS_ID) REFERENCES APERTURAS_CAJA(ID_APERTURA),
    CONSTRAINT fk_cierre_caja FOREIGN KEY (CAJA_ID) REFERENCES CAJAS(ID_CAJA),
    CONSTRAINT fk_cierre_usuario FOREIGN KEY (USUARIO_CIERRE_ID) REFERENCES USUARIOS(USUARIO_ID)
);

CREATE TABLE FACTURAS(
    ID_FACTURA NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    NUMERO_FACTURA VARCHAR2(50) UNIQUE,
    CUPON_ID NUMBER,
    CANAL_ID NUMBER,
    SUCURSAL_ID NUMBER,
    ORDEN_ID NUMBER,
    TOTAL NUMBER(10, 2) NOT NULL,
    DESCUENTOS NUMBER(10, 2),
    FECHA_EMISION DATE DEFAULT SYSDATE,
    ESTADO VARCHAR2(25),
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    USUARIO_ID NUMBER,
    CONSTRAINT fk_facturas_cupon FOREIGN KEY (CUPON_ID) REFERENCES CUPONES(ID_CUPON),
    CONSTRAINT fk_facturas_canal FOREIGN KEY (CANAL_ID) REFERENCES CANALES(CANAL_ID),
    CONSTRAINT fk_facturas_sucursal FOREIGN KEY (SUCURSAL_ID) REFERENCES SUCURSAL(SUCURSAL_ID),
    CONSTRAINT fk_facturas_orden FOREIGN KEY (ORDEN_ID) REFERENCES ORDENES(ID_ORDEN),
    CONSTRAINT fk_facturas_usuario FOREIGN KEY (USUARIO_ID) REFERENCES USUARIOS(USUARIO_ID)
);

CREATE TABLE VOUCHERS (
    ID_VOUCHER NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    CODIGO VARCHAR2(50) UNIQUE NOT NULL,
    TIPO VARCHAR2(25),
    VALOR NUMBER(10, 2),
    ESTADO VARCHAR2(25),
    VALOR_FACTURA NUMBER(10, 2),
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    USADO_EN DATE,
    USADO_FACTURA_ID NUMBER,
    CONSTRAINT fk_vouchers_factura FOREIGN KEY (USADO_FACTURA_ID) REFERENCES FACTURAS(ID_FACTURA)
);

CREATE TABLE PAGOS (
    ID_PAGO NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    FACTURA_ID NUMBER,
    MONTO NUMBER(10, 2),
    MONEDA VARCHAR2(3),
    ESTADO_PAGO VARCHAR2(25),
    METODO_PAGO VARCHAR2(120),
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT fk_pagos_factura FOREIGN KEY (FACTURA_ID) REFERENCES FACTURAS(ID_FACTURA)
);

CREATE TABLE DEVOLUCIONES (
    ID_DEVOLUCION NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    FACTURA_ID NUMBER,
    PRODUCTO_ID NUMBER,
    SOLICITADO_POR NUMBER,
    MOTIVO VARCHAR2(255),
    ESTADO_DEVOLUCION VARCHAR2(25),
    CANTIDAD NUMBER,
    MONTO_REMBOLSO NUMBER(10, 2),
    RECIBIDO_EN DATE,
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT fk_devoluciones_factura FOREIGN KEY (FACTURA_ID) REFERENCES FACTURAS(ID_FACTURA),
    CONSTRAINT fk_devoluciones_producto FOREIGN KEY (PRODUCTO_ID) REFERENCES PRODUCTOS(ID_PRODUCTO),
    CONSTRAINT fk_devoluciones_usuario FOREIGN KEY (SOLICITADO_POR) REFERENCES USUARIOS(USUARIO_ID)
);

CREATE TABLE INGRESOS (
    ID_INGRESOS NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    SUCURSAL_ID NUMBER,
    DESCRIPCION VARCHAR2(255),
    MONTO NUMBER(10, 2),
    FECHA_RECIBIDO DATE,
    REGISTRADO_POR NUMBER,
    TIPO VARCHAR(25),
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT fk_ingresos_usuario FOREIGN KEY (REGISTRADO_POR) REFERENCES USUARIOS(USUARIO_ID),
    CONSTRAINT fk_ingresos_sucursal FOREIGN KEY (SUCURSAL_ID) REFERENCES SUCURSAL(SUCURSAL_ID)
);

CREATE TABLE GASTOS (
    ID_GASTO NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    DESCRIPCION VARCHAR2(255),
    MONTO NUMBER(10, 2),
    CATEGORIA VARCHAR2(50),
    FECHA_OCURRIDO DATE,
    REGISTRADO_POR NUMBER,
    SUCURSAL_ID NUMBER,
    CREADO_EN DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT fk_gastos_usuario FOREIGN KEY (REGISTRADO_POR) REFERENCES USUARIOS(USUARIO_ID),
    CONSTRAINT fk_gastos_sucursal FOREIGN KEY (SUCURSAL_ID) REFERENCES SUCURSAL(SUCURSAL_ID)
);